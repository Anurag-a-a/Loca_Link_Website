<!DOCTYPE html>
<html>
<head>
    <title>{{ post['title'] }}</title>
    <link rel="stylesheet" type="text/css" href="/static/profilepage.css">
</head>
<body>
    <div class="navbar">
        <a href="{{ url_for('community.topPosts') }}">Top Posts</a>
        <a href="#">Event Explorer</a>
        <a href="{{ url_for('post.createPost') }}">Create Post</a>
        <div class="dropdown">
          <a href="#">All Communities</a>
          <div class="dropdown-content">
            {% for communities in communityList %}
            <a href="{{ url_for('community.community',id=communities['id']) }}">{{ communities['name'] }}</a>
            {% endfor %}
          </div>
        </div>
        <a href="{{ url_for('user.profile') }}">User Profile</a>
        <a href="{{ url_for('community.createEvent') }}">Create Event</a>
        <a href="{{ url_for('post.usersPosts') }}">Users Posts</a>
        <a href="{{ url_for('user.logout') }}">Logout</a>
  
      </div>
  
    <div class="profile">
    <div class="posts-container">
        <div class="posts-block">
            <h2 class="post-title">{{ post['title'] }}</h2>
            <p class="post-content">{{ post['content'] }}</p>
            <p class="post-createTime">{{ post['createTime'] }}</p>
            <form action="{{ url_for('post.show_post',id=postId) }}" method="post">
                <input type="hidden" name="action" value="like">
                {% if ifLiked %}
                    <button type="submit" class="unlike-button">Cancel Like</button>
                {% else %}
                    <button type="submit" class="like-button">Like</button>
                {% endif %}
            </form>
        </div>

        <div class="comment-form">
            <h3>Add a new comment. </h3>
            <form action="{{ url_for('post.show_post',id=postId) }}" method="post">
                <input type="hidden" name="action" value="comment">
                <textarea name="content" placeholder="Input your comment. "></textarea>
                <button type="submit">Add Comment</button>
            </form>
        </div>

        <div class="comments">
            <h3>Comments</h3>
            {% for comment in comments %}
            <div class="comment">
                <div class="comment-header">
                    <span class="comment-author">{{ comment['author'] }}</span> - <span class="comment-date">{{ comment['createTime'] }}</span>
                </div>
                <p class="comment-body">{{ comment['content'] }} </p>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

</body>
</html>
